suite: test object names
templates:
  - templates/clusterrole.yaml
  - templates/clusterrolebinding.yaml
  - templates/configmap.yaml
  - templates/deployment.yaml
  - templates/secret.yaml

release:
  name: release

tests:
  - it: uses <release_name>-<chart_name> by default
    set:
      licenseKey: fakeLicense
      cluster: test
    asserts:
      - equal:
          path: metadata.name
          value: release-nri-prometheus

  - it: uses nameOverride as <chart_name>
    set:
      licenseKey: fakeLicense
      cluster: test
      nameOverride: custom_chart_name
    asserts:
      - equal:
          path: metadata.name
          value: release-custom_chart_name

  - it: uses fullnameOverride
    set:
      licenseKey: fakeLicense
      cluster: test
      fullnameOverride: fno
    asserts:
      - equal:
          path: metadata.name
          value: fno
